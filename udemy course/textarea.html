<!DOCTYPE html>
<Html>
    <head>
        <title>Text area</title>
        <style>
            .textLimit {
                width: 400px;
                height: 50px;
            }
            .red {
                color: red;
            }
        </style>
    </head>
    <body>
        <div>
            <textarea class="text"></textarea>
            <div class="output"></div>
        </div>
        <script>
            const output = document.querySelector(".output");
            const text = document.querySelector("textarea");

            text.addEventListener("change", textCounter);
            text.addEventListener("keyup", textCounter);
            text.addEventListener("keydown", textCounter);
            
            const maxLength = 20;
            const warnLength = 7;

            function textCounter(e){
                let count = text.value.length;
                console.log(count);
                if (count > maxLength){
                    text.value = text.value.substring(0,maxLength);
                }
                if (count > warnLength){
                    output.classList.add("red");
                }else{
                    output.classList.remove("red");
                }
                output.innerHTML = (maxLength-count) + " characters left.";
                
            }
        </script>
    </body>
</Html>